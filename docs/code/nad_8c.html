<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>jabberd2: util/nad.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">jabberd2
   &#160;<span id="projectnumber">2.2.17</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_23ec12649285f9fabf3a6b7380226c28.html">util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nad.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="nad_8h_source.html">nad.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br/>
</div>
<p><a href="nad_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbuild__data.html">build_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">parse a buffer into a nad  <a href="structbuild__data.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaf53c740a4e157fc93ecb350f9a32607"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#aaf53c740a4e157fc93ecb350f9a32607">_nad_ptr_check</a>(func, nad)</td></tr>
<tr class="memdesc:aaf53c740a4e157fc93ecb350f9a32607"><td class="mdescLeft">&#160;</td><td class="mdescRight">!!! Things to do (after 2.0)  <a href="#aaf53c740a4e157fc93ecb350f9a32607"></a><br/></td></tr>
<tr class="memitem:afcf795f5a96fd55561abe69f56224630"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#afcf795f5a96fd55561abe69f56224630">BLOCKSIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="memitem:a54d9094d13fbd789caa739f7ad88502d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a54d9094d13fbd789caa739f7ad88502d">NAD_SAFE</a>(blocks, size, len)&#160;&#160;&#160;if((size) &gt; len) len = <a class="el" href="nad_8c.html#a5bc040a78bcc3deedc80c30eef96a0f9">_nad_realloc</a>((void**)&amp;(blocks),(size));</td></tr>
<tr class="memdesc:a54d9094d13fbd789caa739f7ad88502d"><td class="mdescLeft">&#160;</td><td class="mdescRight">this is the safety check used to make sure there's always enough mem  <a href="#a54d9094d13fbd789caa739f7ad88502d"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bc040a78bcc3deedc80c30eef96a0f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a5bc040a78bcc3deedc80c30eef96a0f9">_nad_realloc</a> (void **oblocks, int len)</td></tr>
<tr class="memdesc:a5bc040a78bcc3deedc80c30eef96a0f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocate the given buffer to make it larger.  <a href="#a5bc040a78bcc3deedc80c30eef96a0f9"></a><br/></td></tr>
<tr class="memitem:a17d8dc02ff3aeff962f31512e2632f60"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a17d8dc02ff3aeff962f31512e2632f60">_nad_cdata</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, const char *cdata, int len)</td></tr>
<tr class="memdesc:a17d8dc02ff3aeff962f31512e2632f60"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal: append some cdata and return the index to it  <a href="#a17d8dc02ff3aeff962f31512e2632f60"></a><br/></td></tr>
<tr class="memitem:a59a49cac83e44f2341e409a2cd66c2aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a59a49cac83e44f2341e409a2cd66c2aa">_nad_attr</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name, const char *val, int vallen)</td></tr>
<tr class="memdesc:a59a49cac83e44f2341e409a2cd66c2aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal: create a new attr on any given elem  <a href="#a59a49cac83e44f2341e409a2cd66c2aa"></a><br/></td></tr>
<tr class="memitem:a2af1c3362c3b7fd7fffd1a011d06c815"><td class="memItemLeft" align="right" valign="top"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a2af1c3362c3b7fd7fffd1a011d06c815">nad_new</a> (void)</td></tr>
<tr class="memdesc:a2af1c3362c3b7fd7fffd1a011d06c815"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a new nad  <a href="#a2af1c3362c3b7fd7fffd1a011d06c815"></a><br/></td></tr>
<tr class="memitem:a4cd78d2c968031d680e5f2c480999371"><td class="memItemLeft" align="right" valign="top"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a4cd78d2c968031d680e5f2c480999371">nad_copy</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad)</td></tr>
<tr class="memdesc:a4cd78d2c968031d680e5f2c480999371"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy a nad  <a href="#a4cd78d2c968031d680e5f2c480999371"></a><br/></td></tr>
<tr class="memitem:ac33b971279f00ad81eba0eee1743c9d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#ac33b971279f00ad81eba0eee1743c9d3">nad_free</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad)</td></tr>
<tr class="memdesc:ac33b971279f00ad81eba0eee1743c9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">free that nad  <a href="#ac33b971279f00ad81eba0eee1743c9d3"></a><br/></td></tr>
<tr class="memitem:adfb41df376fb023037ede0faa42b22a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#adfb41df376fb023037ede0faa42b22a8">nad_find_elem</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name, int depth)</td></tr>
<tr class="memdesc:adfb41df376fb023037ede0faa42b22a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">locate the next elem at a given depth with an optional matching name  <a href="#adfb41df376fb023037ede0faa42b22a8"></a><br/></td></tr>
<tr class="memitem:af700241c0278e5be914c5a764f10f608"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#af700241c0278e5be914c5a764f10f608">nad_find_attr</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name, const char *val)</td></tr>
<tr class="memdesc:af700241c0278e5be914c5a764f10f608"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a matching attr on this elem, both name and optional val  <a href="#af700241c0278e5be914c5a764f10f608"></a><br/></td></tr>
<tr class="memitem:a0ff1cb0519036a818211d31979ecdd8e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a0ff1cb0519036a818211d31979ecdd8e">nad_find_namespace</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, const char *uri, const char *prefix)</td></tr>
<tr class="memdesc:a0ff1cb0519036a818211d31979ecdd8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a matching ns on this elem, both uri and optional prefix  <a href="#a0ff1cb0519036a818211d31979ecdd8e"></a><br/></td></tr>
<tr class="memitem:ab007daf3b0b2e11feedaedfee1a9e9d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#ab007daf3b0b2e11feedaedfee1a9e9d8">nad_find_scoped_namespace</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, const char *uri, const char *prefix)</td></tr>
<tr class="memdesc:ab007daf3b0b2e11feedaedfee1a9e9d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">find a namespace in scope  <a href="#ab007daf3b0b2e11feedaedfee1a9e9d8"></a><br/></td></tr>
<tr class="memitem:a719b40321f15be00b499ab23bcd23912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a719b40321f15be00b499ab23bcd23912">nad_find_elem_path</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name)</td></tr>
<tr class="memdesc:a719b40321f15be00b499ab23bcd23912"><td class="mdescLeft">&#160;</td><td class="mdescRight">find elem using XPath like query name &ndash; "name" for the child tag of that name "name/name" for a sub child (recurses) "?attrib" to match the first tag with that attrib defined "?attrib=value" to match the first tag with that attrib and value or any combination: "name/name/?attrib", etc  <a href="#a719b40321f15be00b499ab23bcd23912"></a><br/></td></tr>
<tr class="memitem:a2a975b805d517b02f46de955cc22f5df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a2a975b805d517b02f46de955cc22f5df">nad_set_attr</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name, const char *val, int vallen)</td></tr>
<tr class="memdesc:a2a975b805d517b02f46de955cc22f5df"><td class="mdescLeft">&#160;</td><td class="mdescRight">create, update, or zap any matching attr on this elem  <a href="#a2a975b805d517b02f46de955cc22f5df"></a><br/></td></tr>
<tr class="memitem:a37669cffa60cb195042ad683e74efa13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a37669cffa60cb195042ad683e74efa13">nad_insert_elem</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int parent, int ns, const char *name, const char *cdata)</td></tr>
<tr class="memdesc:a37669cffa60cb195042ad683e74efa13"><td class="mdescLeft">&#160;</td><td class="mdescRight">shove in a new child elem after the given one  <a href="#a37669cffa60cb195042ad683e74efa13"></a><br/></td></tr>
<tr class="memitem:abadc158d36eccae6195e56721f6088dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#abadc158d36eccae6195e56721f6088dd">nad_drop_elem</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem)</td></tr>
<tr class="memdesc:abadc158d36eccae6195e56721f6088dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove an element (and its subelements)  <a href="#abadc158d36eccae6195e56721f6088dd"></a><br/></td></tr>
<tr class="memitem:a9de635927ea2751072d589f9b3f80015"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a9de635927ea2751072d589f9b3f80015">nad_wrap_elem</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, int ns, const char *name)</td></tr>
<tr class="memdesc:a9de635927ea2751072d589f9b3f80015"><td class="mdescLeft">&#160;</td><td class="mdescRight">wrap an element with another element  <a href="#a9de635927ea2751072d589f9b3f80015"></a><br/></td></tr>
<tr class="memitem:a37dfbb383f673a85f37cd7a781241632"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a37dfbb383f673a85f37cd7a781241632">nad_insert_nad</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> dest, int delem, <a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> src, int selem)</td></tr>
<tr class="memdesc:a37dfbb383f673a85f37cd7a781241632"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert part of a nad into another nad  <a href="#a37dfbb383f673a85f37cd7a781241632"></a><br/></td></tr>
<tr class="memitem:a1529c0619f068a0f37aa7a021516a8d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a1529c0619f068a0f37aa7a021516a8d1">nad_append_elem</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int ns, const char *name, int depth)</td></tr>
<tr class="memdesc:a1529c0619f068a0f37aa7a021516a8d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a new elem on the list  <a href="#a1529c0619f068a0f37aa7a021516a8d1"></a><br/></td></tr>
<tr class="memitem:ae4af839c68ed5410aaaa8fa3bd066628"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#ae4af839c68ed5410aaaa8fa3bd066628">nad_append_attr</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int ns, const char *name, const char *val)</td></tr>
<tr class="memdesc:ae4af839c68ed5410aaaa8fa3bd066628"><td class="mdescLeft">&#160;</td><td class="mdescRight">attach new attr to the last elem  <a href="#ae4af839c68ed5410aaaa8fa3bd066628"></a><br/></td></tr>
<tr class="memitem:a8cd38eed9975ae6bd05ad5ad65db11d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a8cd38eed9975ae6bd05ad5ad65db11d2">nad_append_cdata</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, const char *cdata, int len, int depth)</td></tr>
<tr class="memdesc:a8cd38eed9975ae6bd05ad5ad65db11d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">append new cdata to the last elem  <a href="#a8cd38eed9975ae6bd05ad5ad65db11d2"></a><br/></td></tr>
<tr class="memitem:a3d848d026bed3de9956fefba5554f213"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a3d848d026bed3de9956fefba5554f213">nad_add_namespace</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, const char *uri, const char *prefix)</td></tr>
<tr class="memdesc:a3d848d026bed3de9956fefba5554f213"><td class="mdescLeft">&#160;</td><td class="mdescRight">bring a new namespace into scope  <a href="#a3d848d026bed3de9956fefba5554f213"></a><br/></td></tr>
<tr class="memitem:ac1bc91acaaeb9919d33c5fbb421ef1ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#ac1bc91acaaeb9919d33c5fbb421ef1ba">nad_append_namespace</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, const char *uri, const char *prefix)</td></tr>
<tr class="memdesc:ac1bc91acaaeb9919d33c5fbb421ef1ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">declare a namespace on an already-existing element  <a href="#ac1bc91acaaeb9919d33c5fbb421ef1ba"></a><br/></td></tr>
<tr class="memitem:a1b0117647b5c4a5962814d51061adc48"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a1b0117647b5c4a5962814d51061adc48">_nad_escape</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int data, int len, int flag)</td></tr>
<tr class="memitem:a8ef02fd2567c966a90c4ba5c50accfcd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a8ef02fd2567c966a90c4ba5c50accfcd">_nad_lp0</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem)</td></tr>
<tr class="memdesc:a8ef02fd2567c966a90c4ba5c50accfcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal recursive printing function  <a href="#a8ef02fd2567c966a90c4ba5c50accfcd"></a><br/></td></tr>
<tr class="memitem:a663092ad61297381a1b3cc1e55cc5c95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a663092ad61297381a1b3cc1e55cc5c95">nad_print</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, int elem, char **xml, int *len)</td></tr>
<tr class="memdesc:a663092ad61297381a1b3cc1e55cc5c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a string representation of the given element (and children), point references to it  <a href="#a663092ad61297381a1b3cc1e55cc5c95"></a><br/></td></tr>
<tr class="memitem:aeac422eadddf1d20b69fea730fa961f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#aeac422eadddf1d20b69fea730fa961f9">nad_serialize</a> (<a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad, char **buf, int *len)</td></tr>
<tr class="memdesc:aeac422eadddf1d20b69fea730fa961f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">nads serialize to a buffer of this form:  <a href="#aeac422eadddf1d20b69fea730fa961f9"></a><br/></td></tr>
<tr class="memitem:ad263f2d72025ab5b92d1239be6c77819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#ad263f2d72025ab5b92d1239be6c77819">nad_deserialize</a> (const char *buf)</td></tr>
<tr class="memitem:aa156d087ea963e6e2c6b61a288df9468"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#aa156d087ea963e6e2c6b61a288df9468">_nad_parse_element_start</a> (void *arg, const char *name, const char **atts)</td></tr>
<tr class="memitem:a4a3f3a3718dc790f88b01016d029fc7d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a4a3f3a3718dc790f88b01016d029fc7d">_nad_parse_element_end</a> (void *arg, const char *name)</td></tr>
<tr class="memitem:a8ee368939c5464058f515220e1de9857"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a8ee368939c5464058f515220e1de9857">_nad_parse_cdata</a> (void *arg, const char *str, int len)</td></tr>
<tr class="memitem:a5a1bb7de3b87e7c24188eb6acba91865"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a5a1bb7de3b87e7c24188eb6acba91865">_nad_parse_namespace_start</a> (void *arg, const char *prefix, const char *uri)</td></tr>
<tr class="memitem:a65738121f33dee4dd919cba657b66a7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nad_8c.html#a65738121f33dee4dd919cba657b66a7f">nad_parse</a> (const char *buf, int len)</td></tr>
<tr class="memdesc:a65738121f33dee4dd919cba657b66a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a nad from raw xml  <a href="#a65738121f33dee4dd919cba657b66a7f"></a><br/></td></tr>
</table>
<hr/><h2>Macro Definition Documentation</h2>
<a class="anchor" id="aaf53c740a4e157fc93ecb350f9a32607"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _nad_ptr_check</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nad&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>!!! Things to do (after 2.0) </p>
<ul>
<li>make <a class="el" href="nad_8c.html#ab007daf3b0b2e11feedaedfee1a9e9d8" title="find a namespace in scope">nad_find_scoped_namespace()</a> take an element index, and only search the scope on that element (currently, it searchs all elements from end to start, which isn't really correct, though it works in most cases</li>
</ul>
<ul>
<li>new functions:<ul>
<li>insert one nad (or part thereof) into another nad</li>
<li>clear a part of a nad (like xmlnode_hide)</li>
</ul>
</li>
</ul>
<ul>
<li>audit use of depth array and parent (see j2 bug #792) </li>
</ul>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00061">61</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="nad_8c_source.html#l00701">nad_append_attr()</a>, <a class="el" href="nad_8c_source.html#l00709">nad_append_cdata()</a>, <a class="el" href="nad_8c_source.html#l00667">nad_append_elem()</a>, <a class="el" href="nad_8c_source.html#l00767">nad_append_namespace()</a>, <a class="el" href="nad_8c_source.html#l00145">nad_copy()</a>, <a class="el" href="nad_8c_source.html#l01169">nad_deserialize()</a>, <a class="el" href="nad_8c_source.html#l00452">nad_drop_elem()</a>, <a class="el" href="nad_8c_source.html#l00235">nad_find_attr()</a>, <a class="el" href="nad_8c_source.html#l00204">nad_find_elem()</a>, <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>, <a class="el" href="nad_8c_source.html#l00262">nad_find_namespace()</a>, <a class="el" href="nad_8c_source.html#l00290">nad_find_scoped_namespace()</a>, <a class="el" href="nad_8c_source.html#l00178">nad_free()</a>, <a class="el" href="nad_8c_source.html#l00405">nad_insert_elem()</a>, <a class="el" href="nad_8c_source.html#l00512">nad_insert_nad()</a>, <a class="el" href="nad_8c_source.html#l00125">nad_new()</a>, <a class="el" href="nad_8c_source.html#l01115">nad_print()</a>, <a class="el" href="nad_8c_source.html#l01143">nad_serialize()</a>, <a class="el" href="nad_8c_source.html#l00375">nad_set_attr()</a>, and <a class="el" href="nad_8c_source.html#l00475">nad_wrap_elem()</a>.</p>

</div>
</div>
<a class="anchor" id="afcf795f5a96fd55561abe69f56224630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCKSIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l00064">64</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00076">_nad_realloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a54d9094d13fbd789caa739f7ad88502d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NAD_SAFE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">blocks, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;if((size) &gt; len) len = <a class="el" href="nad_8c.html#a5bc040a78bcc3deedc80c30eef96a0f9">_nad_realloc</a>((void**)&amp;(blocks),(size));</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this is the safety check used to make sure there's always enough mem </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00089">89</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00102">_nad_attr()</a>, <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00798">_nad_escape()</a>, <a class="el" href="nad_8c_source.html#l00902">_nad_lp0()</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="nad_8c_source.html#l00667">nad_append_elem()</a>, <a class="el" href="nad_8c_source.html#l00767">nad_append_namespace()</a>, <a class="el" href="nad_8c_source.html#l00145">nad_copy()</a>, <a class="el" href="nad_8c_source.html#l00405">nad_insert_elem()</a>, <a class="el" href="nad_8c_source.html#l00512">nad_insert_nad()</a>, and <a class="el" href="nad_8c_source.html#l00475">nad_wrap_elem()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5bc040a78bcc3deedc80c30eef96a0f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _nad_realloc </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>oblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reallocate the given buffer to make it larger. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">oblocks</td><td>A pointer to a buffer that will be made larger. </td></tr>
    <tr><td class="paramname">len</td><td>The minimum size in bytes to make the buffer. The actual size of the buffer will be rounded up to the nearest block of 1024 bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The new size of the buffer in bytes. </dd></dl>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00076">76</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00064">BLOCKSIZE</a>.</p>

</div>
</div>
<a class="anchor" id="a17d8dc02ff3aeff962f31512e2632f60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _nad_cdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal: append some cdata and return the index to it </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00092">92</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::clen</a>, and <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00102">_nad_attr()</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="nad_8c_source.html#l00709">nad_append_cdata()</a>, <a class="el" href="nad_8c_source.html#l00667">nad_append_elem()</a>, <a class="el" href="nad_8c_source.html#l00767">nad_append_namespace()</a>, <a class="el" href="nad_8c_source.html#l00405">nad_insert_elem()</a>, <a class="el" href="nad_8c_source.html#l00512">nad_insert_nad()</a>, <a class="el" href="nad_8c_source.html#l00375">nad_set_attr()</a>, and <a class="el" href="nad_8c_source.html#l00475">nad_wrap_elem()</a>.</p>

</div>
</div>
<a class="anchor" id="a59a49cac83e44f2341e409a2cd66c2aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _nad_attr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vallen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal: create a new attr on any given elem </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00102">102</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::acur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::alen</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::iname</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::ival</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::lname</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::lval</a>, <a class="el" href="nad_8h_source.html#l00083">nad_attr_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, and <a class="el" href="nad_8h_source.html#l00084">nad_attr_st::next</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00701">nad_append_attr()</a>, and <a class="el" href="nad_8c_source.html#l00375">nad_set_attr()</a>.</p>

</div>
</div>
<a class="anchor" id="a2af1c3362c3b7fd7fffd1a011d06c815"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a new nad </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00125">125</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="pool_8c_source.html#l00191">pstrdup()</a>, <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>, <a class="el" href="xhash_8c_source.html#l00305">xhash_pool()</a>, and <a class="el" href="xhash_8c_source.html#l00163">xhash_put()</a>.</p>

<p>Referenced by <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="out_8c_source.html#l00130">_out_dialback()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="pbx__commands_8c_source.html#l00046">_pbx_presence_nad()</a>, <a class="el" href="router_2router_8c_source.html#l00051">_router_advertise()</a>, <a class="el" href="router_2router_8c_source.html#l00074">_router_advertise_reverse()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00034">_sm_build_route()</a>, <a class="el" href="callback_8c_source.html#l00024">_sx_element_start()</a>, <a class="el" href="callback_8c_source.html#l00142">_sx_namespace_start()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00708">_sx_sasl_abort()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00678">_sx_sasl_challenge()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00663">_sx_sasl_failure()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00693">_sx_sasl_response()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00650">_sx_sasl_success()</a>, <a class="el" href="server_8c_source.html#l00023">_sx_server_notify_header()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="config_8c_source.html#l00080">config_load_with_id()</a>, <a class="el" href="nad_8c_source.html#l00145">nad_copy()</a>, <a class="el" href="nad_8c_source.html#l01169">nad_deserialize()</a>, <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>, <a class="el" href="pkt_8c_source.html#l00328">pkt_create()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00280">sm_c2s_action()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, and <a class="el" href="sasl__gsasl_8c_source.html#l00979">sx_sasl_auth()</a>.</p>

</div>
</div>
<a class="anchor" id="a4cd78d2c968031d680e5f2c480999371"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy a nad </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00145">145</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::acur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::alen</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::clen</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8c_source.html#l00125">nad_new()</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::nlen</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="mod__announce_8c_source.html#l00174">_announce_broadcast_user()</a>, <a class="el" href="mod__announce_8c_source.html#l00119">_announce_in_sess()</a>, <a class="el" href="mod__announce_8c_source.html#l00046">_announce_load()</a>, <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="mod__iq__private_8c_source.html#l00033">_iq_private_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00037">_offline_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00219">_offline_user_delete()</a>, <a class="el" href="router_2router_8c_source.html#l00036">_router_broadcast()</a>, <a class="el" href="router_2router_8c_source.html#l00413">_router_process_route()</a>, <a class="el" href="router_2router_8c_source.html#l00402">_router_route_log_sink()</a>, <a class="el" href="mod__status_8c_source.html#l00118">_status_sess_end()</a>, <a class="el" href="mod__status_8c_source.html#l00081">_status_sess_start()</a>, <a class="el" href="pkt_8c_source.html#l00084">pkt_dup()</a>, and <a class="el" href="pres_8c_source.html#l00212">pres_in()</a>.</p>

</div>
</div>
<a class="anchor" id="ac33b971279f00ad81eba0eee1743c9d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>free that nad </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00178">178</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00099">nad_st::depths</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, <a class="el" href="pool_8c_source.html#l00191">pstrdup()</a>, <a class="el" href="xhash_8c_source.html#l00305">xhash_pool()</a>, <a class="el" href="xhash_8c_source.html#l00163">xhash_put()</a>, and <a class="el" href="xhash_8c_source.html#l00235">xhash_zap()</a>.</p>

<p>Referenced by <a class="el" href="mod__announce_8c_source.html#l00317">_announce_free()</a>, <a class="el" href="mod__announce_8c_source.html#l00119">_announce_in_sess()</a>, <a class="el" href="mod__announce_8c_source.html#l00197">_announce_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="c2s_8c_source.html#l00647">_c2s_component_presence()</a>, <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="in_8c_source.html#l00159">_in_sx_callback()</a>, <a class="el" href="in_8c_source.html#l00455">_in_verify()</a>, <a class="el" href="out_8c_source.html#l01639">_out_result()</a>, <a class="el" href="out_8c_source.html#l01425">_out_sx_callback()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="router_2router_8c_source.html#l00051">_router_advertise()</a>, <a class="el" href="router_2router_8c_source.html#l00100">_router_process_handshake()</a>, <a class="el" href="router_2router_8c_source.html#l00413">_router_process_route()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, <a class="el" href="mod__status_8c_source.html#l00118">_status_sess_end()</a>, <a class="el" href="mod__status_8c_source.html#l00081">_status_sess_start()</a>, <a class="el" href="ack_8c_source.html#l00048">_sx_ack_process()</a>, <a class="el" href="compress_8c_source.html#l00035">_sx_compress_process()</a>, <a class="el" href="io_8c_source.html#l00388">_sx_nad_write()</a>, <a class="el" href="io_8c_source.html#l00024">_sx_process_read()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00853">_sx_sasl_process()</a>, <a class="el" href="server_8c_source.html#l00023">_sx_server_notify_header()</a>, <a class="el" href="ssl_8c_source.html#l00099">_sx_ssl_process()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="config_8c_source.html#l00410">config_free()</a>, <a class="el" href="config_8c_source.html#l00080">config_load_with_id()</a>, <a class="el" href="c2s_2main_8c_source.html#l00598">JABBER_MAIN()</a>, <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>, <a class="el" href="out_8c_source.html#l01812">out_bounce_route_queue()</a>, <a class="el" href="out_8c_source.html#l00610">out_packet()</a>, <a class="el" href="out_8c_source.html#l00601">out_pkt_free()</a>, <a class="el" href="pkt_8c_source.html#l00315">pkt_free()</a>, <a class="el" href="pkt_8c_source.html#l00113">pkt_new()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, <a class="el" href="sx_8c_source.html#l00071">sx_free()</a>, and <a class="el" href="router_2user_8c_source.html#l00025">user_table_load()</a>.</p>

</div>
</div>
<a class="anchor" id="adfb41df376fb023037ede0faa42b22a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_find_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>locate the next elem at a given depth with an optional matching name </p>
<p>find the next element with this name/depth </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00204">204</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8h_source.html#l00191">NAD_NURI</a>, and <a class="el" href="nad_8h_source.html#l00192">NAD_NURI_L</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00118">_amp_pkt_user()</a>, <a class="el" href="mod__announce_8c_source.html#l00046">_announce_load()</a>, <a class="el" href="mod__announce_8c_source.html#l00197">_announce_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="mod__disco_8c_source.html#l00232">_disco_pkt_sm_populate()</a>, <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="mod__iq__ping_8c_source.html#l00032">_iq_ping_reply()</a>, <a class="el" href="mod__iq__private_8c_source.html#l00033">_iq_private_in_sess()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00098">_iq_vcard_to_object()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00154">_iq_vcard_to_pkt()</a>, <a class="el" href="mod__offline_8c_source.html#l00037">_offline_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="mod__offline_8c_source.html#l00219">_offline_user_delete()</a>, <a class="el" href="out_8c_source.html#l01425">_out_sx_callback()</a>, <a class="el" href="mod__pep_8c_source.html#l00036">_pep_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00593">_privacy_lists_result_builder()</a>, <a class="el" href="mod__privacy_8c_source.html#l00463">_privacy_out_router()</a>, <a class="el" href="mod__privacy_8c_source.html#l00525">_privacy_result_builder()</a>, <a class="el" href="mod__roster_8c_source.html#l00484">_roster_in_sess()</a>, <a class="el" href="mod__roster_8c_source.html#l00310">_roster_set_item()</a>, <a class="el" href="router_2router_8c_source.html#l00202">_router_process_bind()</a>, <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>, <a class="el" href="mod__status_8c_source.html#l00049">_status_store()</a>, <a class="el" href="io_8c_source.html#l00024">_sx_process_read()</a>, <a class="el" href="mod__template__roster_8c_source.html#l00046">_template_roster_reload()</a>, <a class="el" href="mod__vacation_8c_source.html#l00039">_vacation_in_sess()</a>, <a class="el" href="xdata_8c_source.html#l00180">_xdata_field_parse()</a>, <a class="el" href="router_2aci_8c_source.html#l00031">aci_load()</a>, <a class="el" href="authreg_8c_source.html#l00626">authreg_process()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="filter_8c_source.html#l00042">filter_load()</a>, <a class="el" href="mm_8c_source.html#l00047">mm_new()</a>, <a class="el" href="mod__disco_8c_source.html#l00608">module_init()</a>, <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>, <a class="el" href="pkt_8c_source.html#l00113">pkt_new()</a>, <a class="el" href="pkt_8c_source.html#l00379">pkt_router()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, <a class="el" href="router_2user_8c_source.html#l00025">user_table_load()</a>, and <a class="el" href="xdata_8c_source.html#l00269">xdata_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="af700241c0278e5be914c5a764f10f608"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_find_attr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get a matching attr on this elem, both name and optional val </p>
<p>find the first matching attribute (and optionally value) </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00235">235</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::iname</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::ival</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::lname</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::lval</a>, <a class="el" href="nad_8h_source.html#l00083">nad_attr_st::my_ns</a>, <a class="el" href="nad_8h_source.html#l00191">NAD_NURI</a>, <a class="el" href="nad_8h_source.html#l00192">NAD_NURI_L</a>, and <a class="el" href="nad_8h_source.html#l00084">nad_attr_st::next</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00313">_amp_pkt_sm()</a>, <a class="el" href="mod__amp_8c_source.html#l00118">_amp_pkt_user()</a>, <a class="el" href="mod__announce_8c_source.html#l00046">_announce_load()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="c2s_8c_source.html#l00647">_c2s_component_presence()</a>, <a class="el" href="mod__disco_8c_source.html#l00365">_disco_pkt_sm()</a>, <a class="el" href="mod__disco_8c_source.html#l00232">_disco_pkt_sm_populate()</a>, <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="in_8c_source.html#l00159">_in_sx_callback()</a>, <a class="el" href="in_8c_source.html#l00455">_in_verify()</a>, <a class="el" href="mod__offline_8c_source.html#l00037">_offline_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="mod__offline_8c_source.html#l00219">_offline_user_delete()</a>, <a class="el" href="out_8c_source.html#l01639">_out_result()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__roster_8c_source.html#l00484">_roster_in_sess()</a>, <a class="el" href="mod__roster_8c_source.html#l00310">_roster_set_item()</a>, <a class="el" href="router_2router_8c_source.html#l00374">_router_comp_write()</a>, <a class="el" href="router_2router_8c_source.html#l00202">_router_process_bind()</a>, <a class="el" href="router_2router_8c_source.html#l00413">_router_process_route()</a>, <a class="el" href="router_2router_8c_source.html#l00331">_router_process_unbind()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>, <a class="el" href="ack_8c_source.html#l00048">_sx_ack_process()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00853">_sx_sasl_process()</a>, <a class="el" href="mod__template__roster_8c_source.html#l00046">_template_roster_reload()</a>, <a class="el" href="xdata_8c_source.html#l00180">_xdata_field_parse()</a>, <a class="el" href="router_2aci_8c_source.html#l00031">aci_load()</a>, <a class="el" href="authreg_8c_source.html#l00626">authreg_process()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="dispatch_8c_source.html#l00031">dispatch()</a>, <a class="el" href="filter_8c_source.html#l00042">filter_load()</a>, <a class="el" href="filter_8c_source.html#l00182">filter_packet()</a>, <a class="el" href="mm_8c_source.html#l00047">mm_new()</a>, <a class="el" href="mod__disco_8c_source.html#l00608">module_init()</a>, <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>, <a class="el" href="nad_8c_source.html#l00375">nad_set_attr()</a>, <a class="el" href="out_8c_source.html#l01812">out_bounce_route_queue()</a>, <a class="el" href="pkt_8c_source.html#l00353">pkt_id()</a>, <a class="el" href="pkt_8c_source.html#l00113">pkt_new()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, <a class="el" href="stanza_8c_source.html#l00078">stanza_tofrom()</a>, and <a class="el" href="xdata_8c_source.html#l00269">xdata_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ff1cb0519036a818211d31979ecdd8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_find_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get a matching ns on this elem, both uri and optional prefix </p>
<p>find the first matching namespace (and optionally prefix) </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00262">262</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::iprefix</a>, <a class="el" href="nad_8h_source.html#l00193">NAD_NPREFIX</a>, <a class="el" href="nad_8h_source.html#l00194">NAD_NPREFIX_L</a>, <a class="el" href="nad_8h_source.html#l00191">NAD_NURI</a>, <a class="el" href="nad_8h_source.html#l00192">NAD_NURI_L</a>, <a class="el" href="nad_8h_source.html#l00090">nad_ns_st::next</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, and <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>.</p>

<p>Referenced by <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="nad_8c_source.html#l00767">nad_append_namespace()</a>, <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>, <a class="el" href="out_8c_source.html#l00610">out_packet()</a>, <a class="el" href="pkt_8c_source.html#l00113">pkt_new()</a>, and <a class="el" href="pkt_8c_source.html#l00379">pkt_router()</a>.</p>

</div>
</div>
<a class="anchor" id="ab007daf3b0b2e11feedaedfee1a9e9d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_find_scoped_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find a namespace in scope </p>
<p>find a namespace in scope (and optionally prefix) </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00290">290</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::iprefix</a>, <a class="el" href="nad_8h_source.html#l00193">NAD_NPREFIX</a>, <a class="el" href="nad_8h_source.html#l00194">NAD_NPREFIX_L</a>, <a class="el" href="nad_8h_source.html#l00191">NAD_NURI</a>, <a class="el" href="nad_8h_source.html#l00192">NAD_NURI_L</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, and <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00118">_amp_pkt_user()</a>, <a class="el" href="mod__announce_8c_source.html#l00046">_announce_load()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="mod__disco_8c_source.html#l00232">_disco_pkt_sm_populate()</a>, <a class="el" href="mod__iq__ping_8c_source.html#l00032">_iq_ping_reply()</a>, <a class="el" href="mod__iq__private_8c_source.html#l00033">_iq_private_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00037">_offline_in_sess()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="mod__offline_8c_source.html#l00219">_offline_user_delete()</a>, <a class="el" href="out_8c_source.html#l01425">_out_sx_callback()</a>, <a class="el" href="mod__pep_8c_source.html#l00036">_pep_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00593">_privacy_lists_result_builder()</a>, <a class="el" href="mod__privacy_8c_source.html#l00525">_privacy_result_builder()</a>, <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>, <a class="el" href="io_8c_source.html#l00024">_sx_process_read()</a>, <a class="el" href="mod__vacation_8c_source.html#l00039">_vacation_in_sess()</a>, <a class="el" href="authreg_8c_source.html#l00626">authreg_process()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, and <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="a719b40321f15be00b499ab23bcd23912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_find_elem_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find elem using XPath like query name &ndash; "name" for the child tag of that name "name/name" for a sub child (recurses) "?attrib" to match the first tag with that attrib defined "?attrib=value" to match the first tag with that attrib and value or any combination: "name/name/?attrib", etc </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00318">318</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8c_source.html#l00235">nad_find_attr()</a>, <a class="el" href="nad_8c_source.html#l00204">nad_find_elem()</a>, <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>, and <a class="el" href="nad_8c_source.html#l00262">nad_find_namespace()</a>.</p>

<p>Referenced by <a class="el" href="filter_8c_source.html#l00182">filter_packet()</a>, and <a class="el" href="nad_8c_source.html#l00318">nad_find_elem_path()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a975b805d517b02f46de955cc22f5df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_set_attr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vallen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create, update, or zap any matching attr on this elem </p>
<p>reset or store the given attribute </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00375">375</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00102">_nad_attr()</a>, <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::ival</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::lname</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::lval</a>, and <a class="el" href="nad_8c_source.html#l00235">nad_find_attr()</a>.</p>

<p>Referenced by <a class="el" href="mod__announce_8c_source.html#l00174">_announce_broadcast_user()</a>, <a class="el" href="mod__announce_8c_source.html#l00119">_announce_in_sess()</a>, <a class="el" href="mod__announce_8c_source.html#l00197">_announce_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="mod__deliver_8c_source.html#l00030">_deliver_in_sess()</a>, <a class="el" href="mod__disco_8c_source.html#l00323">_disco_in_sess_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00133">_disco_info_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00365">_disco_pkt_sm()</a>, <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="in_8c_source.html#l00455">_in_verify()</a>, <a class="el" href="mod__iq__last_8c_source.html#l00033">_iq_last_pkt_sm()</a>, <a class="el" href="mod__iq__last_8c_source.html#l00051">_iq_last_pkt_user()</a>, <a class="el" href="mod__iq__ping_8c_source.html#l00032">_iq_ping_reply()</a>, <a class="el" href="mod__iq__private_8c_source.html#l00033">_iq_private_in_sess()</a>, <a class="el" href="mod__iq__time_8c_source.html#l00039">_iq_time_pkt_sm()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00200">_iq_vcard_in_sess()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00286">_iq_vcard_pkt_sm()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00335">_iq_vcard_pkt_user()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00176">_iq_version_pkt_sm()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="out_8c_source.html#l00130">_out_dialback()</a>, <a class="el" href="mod__presence_8c_source.html#l00031">_presence_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00593">_privacy_lists_result_builder()</a>, <a class="el" href="mod__privacy_8c_source.html#l00525">_privacy_result_builder()</a>, <a class="el" href="mod__roster_8c_source.html#l00484">_roster_in_sess()</a>, <a class="el" href="mod__roster_8c_source.html#l00174">_roster_in_sess_s10n()</a>, <a class="el" href="mod__roster_8c_source.html#l00119">_roster_insert_item()</a>, <a class="el" href="mod__roster_8c_source.html#l00599">_roster_pkt_user()</a>, <a class="el" href="mod__roster_8c_source.html#l00310">_roster_set_item()</a>, <a class="el" href="mod__roster_8c_source.html#l00283">_roster_update_walker()</a>, <a class="el" href="router_2router_8c_source.html#l00074">_router_advertise_reverse()</a>, <a class="el" href="router_2router_8c_source.html#l00202">_router_process_bind()</a>, <a class="el" href="router_2router_8c_source.html#l00413">_router_process_route()</a>, <a class="el" href="router_2router_8c_source.html#l00331">_router_process_unbind()</a>, <a class="el" href="router_2router_8c_source.html#l00402">_router_route_log_sink()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>, <a class="el" href="mod__vacation_8c_source.html#l00039">_vacation_in_sess()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="filter_8c_source.html#l00182">filter_packet()</a>, <a class="el" href="pkt_8c_source.html#l00508">pkt_delay()</a>, <a class="el" href="pkt_8c_source.html#l00084">pkt_dup()</a>, <a class="el" href="pkt_8c_source.html#l00353">pkt_id()</a>, <a class="el" href="pkt_8c_source.html#l00364">pkt_id_new()</a>, <a class="el" href="pkt_8c_source.html#l00379">pkt_router()</a>, <a class="el" href="pkt_8c_source.html#l00459">pkt_sess()</a>, <a class="el" href="pkt_8c_source.html#l00057">pkt_tofrom()</a>, <a class="el" href="pres_8c_source.html#l00212">pres_in()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sess_8c_source.html#l00031">sess_route()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00086">sm_packet()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, <a class="el" href="stanza_8c_source.html#l00052">stanza_error()</a>, and <a class="el" href="stanza_8c_source.html#l00078">stanza_tofrom()</a>.</p>

</div>
</div>
<a class="anchor" id="a37669cffa60cb195042ad683e74efa13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_insert_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>shove in a new child elem after the given one </p>
<p>insert and return a new element as a child of this one </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00405">405</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="mod__iq__time_8c_source.html#l00039">_iq_time_pkt_sm()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00176">_iq_version_pkt_sm()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00593">_privacy_lists_result_builder()</a>, <a class="el" href="mod__privacy_8c_source.html#l00463">_privacy_out_router()</a>, <a class="el" href="mod__privacy_8c_source.html#l00525">_privacy_result_builder()</a>, <a class="el" href="mod__roster_8c_source.html#l00119">_roster_insert_item()</a>, <a class="el" href="mod__vacation_8c_source.html#l00039">_vacation_in_sess()</a>, <a class="el" href="mod__vacation_8c_source.html#l00158">_vacation_pkt_user()</a>, <a class="el" href="pkt_8c_source.html#l00508">pkt_delay()</a>, and <a class="el" href="stanza_8c_source.html#l00052">stanza_error()</a>.</p>

</div>
</div>
<a class="anchor" id="abadc158d36eccae6195e56721f6088dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_drop_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove an element (and its subelements) </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00452">452</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, and <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>.</p>

<p>Referenced by <a class="el" href="mod__announce_8c_source.html#l00197">_announce_pkt_sm()</a>, <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="mod__iq__ping_8c_source.html#l00032">_iq_ping_reply()</a>, <a class="el" href="mod__roster_8c_source.html#l00484">_roster_in_sess()</a>, and <a class="el" href="mod__session_8c_source.html#l00052">_session_in_router()</a>.</p>

</div>
</div>
<a class="anchor" id="a9de635927ea2751072d589f9b3f80015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_wrap_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wrap an element with another element </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00475">475</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, and <a class="el" href="c2s_2sm_8c_source.html#l00086">sm_packet()</a>.</p>

</div>
</div>
<a class="anchor" id="a37dfbb383f673a85f37cd7a781241632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_insert_nad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>selem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert part of a nad into another nad </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00512">512</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::acur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::alen</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::iname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::ival</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::lname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::lval</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8h_source.html#l00083">nad_attr_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="nad_8h_source.html#l00193">NAD_NPREFIX</a>, <a class="el" href="nad_8h_source.html#l00194">NAD_NPREFIX_L</a>, <a class="el" href="nad_8h_source.html#l00191">NAD_NURI</a>, <a class="el" href="nad_8h_source.html#l00192">NAD_NURI_L</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, <a class="el" href="nad_8h_source.html#l00084">nad_attr_st::next</a>, <a class="el" href="nad_8h_source.html#l00090">nad_ns_st::next</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

</div>
</div>
<a class="anchor" id="a1529c0619f068a0f37aa7a021516a8d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_append_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a new elem on the list </p>
<p>append and return a new element </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00667">667</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00099">nad_st::depths</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::dlen</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00070">nad_elem_st::parent</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00313">_amp_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="bind_8c_source.html#l00031">_bind_features()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="config_8c_source.html#l00042">_config_startElement()</a>, <a class="el" href="mod__disco_8c_source.html#l00166">_disco_agents_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00323">_disco_in_sess_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00133">_disco_info_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00107">_disco_items_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00529">_disco_pkt_router()</a>, <a class="el" href="mod__disco_8c_source.html#l00365">_disco_pkt_sm()</a>, <a class="el" href="mod__disco_8c_source.html#l00344">_disco_sessions_result()</a>, <a class="el" href="mod__help_8c_source.html#l00128">_help_disco_extend()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00154">_iq_vcard_to_pkt()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00204">_iq_version_disco_extend()</a>, <a class="el" href="nad_8c_source.html#l01223">_nad_parse_element_start()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="out_8c_source.html#l00130">_out_dialback()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="pbx__commands_8c_source.html#l00046">_pbx_presence_nad()</a>, <a class="el" href="mod__pep_8c_source.html#l00054">_pep_out_sess()</a>, <a class="el" href="mod__roster_8c_source.html#l00174">_roster_in_sess_s10n()</a>, <a class="el" href="mod__roster_8c_source.html#l00599">_roster_pkt_user()</a>, <a class="el" href="mod__roster_8c_source.html#l00310">_roster_set_item()</a>, <a class="el" href="mod__roster_8c_source.html#l00283">_roster_update_walker()</a>, <a class="el" href="router_2router_8c_source.html#l00051">_router_advertise()</a>, <a class="el" href="router_2router_8c_source.html#l00074">_router_advertise_reverse()</a>, <a class="el" href="db_8c_source.html#l00047">_s2s_db_features()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00034">_sm_build_route()</a>, <a class="el" href="ack_8c_source.html#l00041">_sx_ack_features()</a>, <a class="el" href="address_8c_source.html#l00027">_sx_address_features()</a>, <a class="el" href="compress_8c_source.html#l00119">_sx_compress_features()</a>, <a class="el" href="callback_8c_source.html#l00024">_sx_element_start()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00708">_sx_sasl_abort()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00678">_sx_sasl_challenge()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00663">_sx_sasl_failure()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00583">_sx_sasl_features()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00693">_sx_sasl_response()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00650">_sx_sasl_success()</a>, <a class="el" href="server_8c_source.html#l00023">_sx_server_notify_header()</a>, <a class="el" href="ssl_8c_source.html#l00197">_sx_ssl_features()</a>, <a class="el" href="mod__amp_8c_source.html#l00074">amp_build_response_pkt()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="pkt_8c_source.html#l00328">pkt_create()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00280">sm_c2s_action()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, and <a class="el" href="sasl__gsasl_8c_source.html#l00979">sx_sasl_auth()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4af839c68ed5410aaaa8fa3bd066628"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_append_attr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>attach new attr to the last elem </p>
<p>append attribs to the last element </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00701">701</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00102">_nad_attr()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, and <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00313">_amp_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="config_8c_source.html#l00042">_config_startElement()</a>, <a class="el" href="mod__disco_8c_source.html#l00166">_disco_agents_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00323">_disco_in_sess_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00133">_disco_info_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00107">_disco_items_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00365">_disco_pkt_sm()</a>, <a class="el" href="mod__disco_8c_source.html#l00344">_disco_sessions_result()</a>, <a class="el" href="mod__help_8c_source.html#l00128">_help_disco_extend()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00204">_iq_version_disco_extend()</a>, <a class="el" href="nad_8c_source.html#l01223">_nad_parse_element_start()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="pbx__commands_8c_source.html#l00046">_pbx_presence_nad()</a>, <a class="el" href="mod__pep_8c_source.html#l00054">_pep_out_sess()</a>, <a class="el" href="router_2router_8c_source.html#l00051">_router_advertise()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00034">_sm_build_route()</a>, <a class="el" href="callback_8c_source.html#l00024">_sx_element_start()</a>, <a class="el" href="mod__amp_8c_source.html#l00074">amp_build_response_pkt()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="pkt_8c_source.html#l00328">pkt_create()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00280">sm_c2s_action()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, and <a class="el" href="sasl__gsasl_8c_source.html#l00979">sx_sasl_auth()</a>.</p>

</div>
</div>
<a class="anchor" id="a8cd38eed9975ae6bd05ad5ad65db11d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_append_cdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>append new cdata to the last elem </p>
<p>append more cdata to the last element </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00709">709</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00099">nad_st::depths</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, and <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>.</p>

<p>Referenced by <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="config_8c_source.html#l00064">_config_charData()</a>, <a class="el" href="mod__disco_8c_source.html#l00166">_disco_agents_result()</a>, <a class="el" href="mod__help_8c_source.html#l00128">_help_disco_extend()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00154">_iq_vcard_to_pkt()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00204">_iq_version_disco_extend()</a>, <a class="el" href="nad_8c_source.html#l01306">_nad_parse_cdata()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="out_8c_source.html#l00130">_out_dialback()</a>, <a class="el" href="pbx__commands_8c_source.html#l00046">_pbx_presence_nad()</a>, <a class="el" href="address_8c_source.html#l00027">_sx_address_features()</a>, <a class="el" href="callback_8c_source.html#l00129">_sx_cdata()</a>, <a class="el" href="compress_8c_source.html#l00119">_sx_compress_features()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00678">_sx_sasl_challenge()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00583">_sx_sasl_features()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00693">_sx_sasl_response()</a>, <a class="el" href="sasl__gsasl_8c_source.html#l00141">_sx_sasl_success()</a>, and <a class="el" href="sasl__gsasl_8c_source.html#l00979">sx_sasl_auth()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d848d026bed3de9956fefba5554f213"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_add_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>bring a new namespace into scope </p>
<p>add a namespace to the next element (ie, called when the namespace comes into scope) </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00734">734</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::iprefix</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::iuri</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::lprefix</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::luri</a>, <a class="el" href="nad_8c_source.html#l00290">nad_find_scoped_namespace()</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, <a class="el" href="nad_8h_source.html#l00090">nad_ns_st::next</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::nlen</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="mod__amp_8c_source.html#l00313">_amp_pkt_sm()</a>, <a class="el" href="authreg_8c_source.html#l00133">_authreg_auth_get()</a>, <a class="el" href="authreg_8c_source.html#l00219">_authreg_auth_set()</a>, <a class="el" href="authreg_8c_source.html#l00383">_authreg_register_get()</a>, <a class="el" href="authreg_8c_source.html#l00434">_authreg_register_set()</a>, <a class="el" href="bind_8c_source.html#l00031">_bind_features()</a>, <a class="el" href="c2s_8c_source.html#l00025">_c2s_client_sx_callback()</a>, <a class="el" href="mod__disco_8c_source.html#l00166">_disco_agents_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00133">_disco_info_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00107">_disco_items_result()</a>, <a class="el" href="mod__disco_8c_source.html#l00529">_disco_pkt_router()</a>, <a class="el" href="mod__disco_8c_source.html#l00365">_disco_pkt_sm()</a>, <a class="el" href="mod__disco_8c_source.html#l00344">_disco_sessions_result()</a>, <a class="el" href="mod__help_8c_source.html#l00128">_help_disco_extend()</a>, <a class="el" href="in_8c_source.html#l00530">_in_packet()</a>, <a class="el" href="in_8c_source.html#l00358">_in_result()</a>, <a class="el" href="mod__iq__vcard_8c_source.html#l00154">_iq_vcard_to_pkt()</a>, <a class="el" href="mod__iq__version_8c_source.html#l00204">_iq_version_disco_extend()</a>, <a class="el" href="nad_8c_source.html#l01223">_nad_parse_element_start()</a>, <a class="el" href="nad_8c_source.html#l01313">_nad_parse_namespace_start()</a>, <a class="el" href="mod__offline_8c_source.html#l00103">_offline_pkt_user()</a>, <a class="el" href="out_8c_source.html#l00130">_out_dialback()</a>, <a class="el" href="out_8c_source.html#l01708">_out_verify()</a>, <a class="el" href="pbx__commands_8c_source.html#l00046">_pbx_presence_nad()</a>, <a class="el" href="mod__privacy_8c_source.html#l00658">_privacy_in_sess()</a>, <a class="el" href="mod__privacy_8c_source.html#l00463">_privacy_out_router()</a>, <a class="el" href="mod__roster_8c_source.html#l00174">_roster_in_sess_s10n()</a>, <a class="el" href="mod__roster_8c_source.html#l00119">_roster_insert_item()</a>, <a class="el" href="mod__roster_8c_source.html#l00599">_roster_pkt_user()</a>, <a class="el" href="mod__roster_8c_source.html#l00310">_roster_set_item()</a>, <a class="el" href="mod__roster_8c_source.html#l00283">_roster_update_walker()</a>, <a class="el" href="router_2router_8c_source.html#l00051">_router_advertise()</a>, <a class="el" href="router_2router_8c_source.html#l00074">_router_advertise_reverse()</a>, <a class="el" href="router_2router_8c_source.html#l00671">_router_sx_callback()</a>, <a class="el" href="db_8c_source.html#l00047">_s2s_db_features()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00034">_sm_build_route()</a>, <a class="el" href="address_8c_source.html#l00027">_sx_address_features()</a>, <a class="el" href="compress_8c_source.html#l00119">_sx_compress_features()</a>, <a class="el" href="callback_8c_source.html#l00024">_sx_element_start()</a>, <a class="el" href="callback_8c_source.html#l00142">_sx_namespace_start()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00708">_sx_sasl_abort()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00678">_sx_sasl_challenge()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00663">_sx_sasl_failure()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00583">_sx_sasl_features()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00693">_sx_sasl_response()</a>, <a class="el" href="sasl__cyrus_8c_source.html#l00650">_sx_sasl_success()</a>, <a class="el" href="server_8c_source.html#l00023">_sx_server_notify_header()</a>, <a class="el" href="ssl_8c_source.html#l00197">_sx_ssl_features()</a>, <a class="el" href="mod__amp_8c_source.html#l00074">amp_build_response_pkt()</a>, <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>, <a class="el" href="nad_8c_source.html#l00512">nad_insert_nad()</a>, <a class="el" href="pkt_8c_source.html#l00328">pkt_create()</a>, <a class="el" href="pkt_8c_source.html#l00508">pkt_delay()</a>, <a class="el" href="s2s_2router_8c_source.html#l00024">s2s_router_sx_callback()</a>, <a class="el" href="sm_2sm_8c_source.html#l00280">sm_c2s_action()</a>, <a class="el" href="c2s_2sm_8c_source.html#l00086">sm_packet()</a>, <a class="el" href="sm_2sm_8c_source.html#l00033">sm_sx_callback()</a>, <a class="el" href="stanza_8c_source.html#l00052">stanza_error()</a>, and <a class="el" href="sasl__gsasl_8c_source.html#l00979">sx_sasl_auth()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1bc91acaaeb9919d33c5fbb421ef1ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nad_append_namespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>declare a namespace on an already-existing element </p>
<p>declare a namespace on an already existing element </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00767">767</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00092">_nad_cdata()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::iprefix</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::iuri</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::lprefix</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::luri</a>, <a class="el" href="nad_8c_source.html#l00262">nad_find_namespace()</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, <a class="el" href="nad_8h_source.html#l00090">nad_ns_st::next</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::nlen</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, and <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01223">_nad_parse_element_start()</a>, <a class="el" href="callback_8c_source.html#l00024">_sx_element_start()</a>, <a class="el" href="sess_8c_source.html#l00031">sess_route()</a>, and <a class="el" href="c2s_2sm_8c_source.html#l00086">sm_packet()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b0117647b5c4a5962814d51061adc48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _nad_escape </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l00798">798</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::clen</a>, and <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l00902">_nad_lp0()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ef02fd2567c966a90c4ba5c50accfcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _nad_lp0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal recursive printing function </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l00902">902</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00798">_nad_escape()</a>, <a class="el" href="nad_8h_source.html#l00074">nad_elem_st::attr</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::clen</a>, <a class="el" href="nad_8h_source.html#l00077">nad_elem_st::depth</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::icdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::iname</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::iname</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::iprefix</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::itail</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::iuri</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::ival</a>, <a class="el" href="nad_8h_source.html#l00072">nad_elem_st::lcdata</a>, <a class="el" href="nad_8h_source.html#l00071">nad_elem_st::lname</a>, <a class="el" href="nad_8h_source.html#l00081">nad_attr_st::lname</a>, <a class="el" href="nad_8h_source.html#l00089">nad_ns_st::lprefix</a>, <a class="el" href="nad_8h_source.html#l00073">nad_elem_st::ltail</a>, <a class="el" href="nad_8h_source.html#l00088">nad_ns_st::luri</a>, <a class="el" href="nad_8h_source.html#l00082">nad_attr_st::lval</a>, <a class="el" href="nad_8h_source.html#l00076">nad_elem_st::my_ns</a>, <a class="el" href="nad_8h_source.html#l00083">nad_attr_st::my_ns</a>, <a class="el" href="nad_8c_source.html#l00089">NAD_SAFE</a>, <a class="el" href="nad_8h_source.html#l00084">nad_attr_st::next</a>, <a class="el" href="nad_8h_source.html#l00090">nad_ns_st::next</a>, <a class="el" href="nad_8h_source.html#l00075">nad_elem_st::ns</a>, <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>, and <a class="el" href="uri_8h_source.html#l00031">uri_XML</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01115">nad_print()</a>.</p>

</div>
</div>
<a class="anchor" id="a663092ad61297381a1b3cc1e55cc5c95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a string representation of the given element (and children), point references to it </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l01115">1115</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00902">_nad_lp0()</a>, <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, and <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>.</p>

<p>Referenced by <a class="el" href="mod__help_8c_source.html#l00044">_help_pkt_sm()</a>, <a class="el" href="router_2router_8c_source.html#l00413">_router_process_route()</a>, <a class="el" href="io_8c_source.html#l00388">_sx_nad_write()</a>, <a class="el" href="io_8c_source.html#l00024">_sx_process_read()</a>, <a class="el" href="server_8c_source.html#l00023">_sx_server_notify_header()</a>, and <a class="el" href="c2s_8c_source.html#l00699">c2s_router_sx_callback()</a>.</p>

</div>
</div>
<a class="anchor" id="aeac422eadddf1d20b69fea730fa961f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nad_serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a>&#160;</td>
          <td class="paramname"><em>nad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>nads serialize to a buffer of this form: </p>
<p>serialize and deserialize a nad</p>
<p>[buflen][ecur][acur][ncur][ccur][elems][attrs][nss][cdata]</p>
<p>nothing is done with endianness or word length, so the nad must be serialized and deserialized on the same platform</p>
<p>buflen is not actually used by deserialize(), but is provided as a convenience to the application so it knows how many bytes to read before passing them in to deserialize()</p>
<p>the depths array is not stored, so after deserialization <a class="el" href="nad_8c.html#a1529c0619f068a0f37aa7a021516a8d1" title="create a new elem on the list">nad_append_elem()</a> and <a class="el" href="nad_8c.html#a8cd38eed9975ae6bd05ad5ad65db11d2" title="append new cdata to the last elem">nad_append_cdata()</a> will not work. this is rarely a problem </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l01143">1143</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::acur</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, and <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>.</p>

</div>
</div>
<a class="anchor" id="ad263f2d72025ab5b92d1239be6c77819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad_deserialize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l01169">1169</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l00061">_nad_ptr_check</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::acur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::alen</a>, <a class="el" href="nad_8h_source.html#l00096">nad_st::attrs</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ccur</a>, <a class="el" href="nad_8h_source.html#l00098">nad_st::cdata</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::clen</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ecur</a>, <a class="el" href="nad_8h_source.html#l00095">nad_st::elems</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::elen</a>, <a class="el" href="nad_8c_source.html#l00125">nad_new()</a>, <a class="el" href="nad_8h_source.html#l00105">nad_st::ncur</a>, <a class="el" href="nad_8h_source.html#l00102">nad_st::nlen</a>, and <a class="el" href="nad_8h_source.html#l00097">nad_st::nss</a>.</p>

</div>
</div>
<a class="anchor" id="aa156d087ea963e6e2c6b61a288df9468"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _nad_parse_element_start </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>atts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l01223">1223</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00039">build_data::depth</a>, <a class="el" href="config_8c_source.html#l00038">build_data::nad</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, <a class="el" href="nad_8c_source.html#l00701">nad_append_attr()</a>, <a class="el" href="nad_8c_source.html#l00667">nad_append_elem()</a>, and <a class="el" href="nad_8c_source.html#l00767">nad_append_namespace()</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a3f3a3718dc790f88b01016d029fc7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _nad_parse_element_end </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l01300">1300</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00039">build_data::depth</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ee368939c5464058f515220e1de9857"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _nad_parse_cdata </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l01306">1306</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00039">build_data::depth</a>, <a class="el" href="config_8c_source.html#l00038">build_data::nad</a>, and <a class="el" href="nad_8c_source.html#l00709">nad_append_cdata()</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a1bb7de3b87e7c24188eb6acba91865"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _nad_parse_namespace_start </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nad_8c_source.html#l01313">1313</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="config_8c_source.html#l00038">build_data::nad</a>, <a class="el" href="nad_8c_source.html#l00734">nad_add_namespace()</a>, and <a class="el" href="nad_8h_source.html#l00107">nad_st::scope</a>.</p>

<p>Referenced by <a class="el" href="nad_8c_source.html#l01337">nad_parse()</a>.</p>

</div>
</div>
<a class="anchor" id="a65738121f33dee4dd919cba657b66a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nad_8h.html#aba0957b28b6859a07e1734d41f20acf2">nad_t</a> nad_parse </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a nad from raw xml </p>

<p>Definition at line <a class="el" href="nad_8c_source.html#l01337">1337</a> of file <a class="el" href="nad_8c_source.html">nad.c</a>.</p>

<p>References <a class="el" href="nad_8c_source.html#l01306">_nad_parse_cdata()</a>, <a class="el" href="nad_8c_source.html#l01300">_nad_parse_element_end()</a>, <a class="el" href="nad_8c_source.html#l01223">_nad_parse_element_start()</a>, <a class="el" href="nad_8c_source.html#l01313">_nad_parse_namespace_start()</a>, <a class="el" href="config_8c_source.html#l00039">build_data::depth</a>, <a class="el" href="config_8c_source.html#l00038">build_data::nad</a>, <a class="el" href="nad_8c_source.html#l00178">nad_free()</a>, <a class="el" href="nad_8c_source.html#l00125">nad_new()</a>, and <a class="el" href="nad_8c_source.html#l01220">build_data::p</a>.</p>

<p>Referenced by <a class="el" href="mod__template__roster_8c_source.html#l00046">_template_roster_reload()</a>, <a class="el" href="filter_8c_source.html#l00042">filter_load()</a>, and <a class="el" href="router_2user_8c_source.html#l00025">user_table_load()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
